---
import isBot from 'isbot';
import { Background } from '~/components/Background';
import { cn } from '~/utils/cn';

interface Props {
	description?: string;
	title?: string;
}

const { description = '"Hey ðŸ‘‹ I\'m Ben, a developer"', title = 'nuro.dev' } = Astro.props;

const isWebCrawler = isBot(Astro.request.headers.get('user-agent'));
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="generator" content={Astro.generator} />
		<meta name="viewport" content="width=device-width" />
		<meta name="description" content={description} />
		<link rel="icon" type="image/png" href="/favicon.png" />
		<title>{title}</title>

		<style is:global>
			.default-focus {
				@apply focus:outline-none focus:ring focus:ring-primary-500 focus:ring-offset-4 focus:ring-offset-gray-800;
			}
			.default-transition {
				@apply transition duration-300 ease-in-out;
			}
		</style>
	</head>
	<body
		class={cn(
			'bg-gradient-to-br from-white from-20% via-gray-100 to-white to-80% dark:from-black dark:via-gray-700 dark:to-black',
			'font-sans text-gray-500',
			'scroll-smooth font-sans antialiased',
			'selection:bg-gray-900 selection:text-white selection:dark:bg-white selection:dark:text-primary-500',
		)}
	>
		<slot />
		{!isWebCrawler ? <Background client:only /> : null}
	</body>
	<script>
		import { inject } from '@vercel/analytics';

		inject();
	</script>
</html>
